!function(a){"use strict";var b=[],c=function(){for(var a=j(),c=0;c<b.length;c++)try{var f=b[c],g=f[0],h=f[1],i=g.data("offset.lazy");i.top+g.height()>a.top&&i.top<a.bottom&&(g.removeData("offset.lazy"),h.once&&(b[c]=null),"image"==h.type?setTimeout(function(){d(g,h)},0):"url"==h.type?setTimeout(function(){e(g,h)},0):setTimeout(function(){h.onLoad(h.res())},0))}catch(k){}},d=function(a,b){var c=b.res();a.one({load:function(c){b.onLoad(a,b,c)},error:function(c){b.onError(a,b,c)}});var d=a.get(0);null!=c&&""!=c?(a.attr("src",c),d.complete||4===d.readyState?a.trigger("load"):"uninitialized"===d.readyState&&0===d.src.indexOf("data:")&&a.trigger("error")):a.trigger("error")},e=function(b,c){a.ajax(c.res()).done(function(a){c.onLoad(b,a,c)}).fail(function(a){c.onError(b,a,c)})},f=function(){for(var a=0;a<b.length;a++){var c=b[a];c&&c[0].data("offset.lazy",c[1].offset())}},g=function(c,d){if(d||(d={}),!a.isFunction(d.offset))if(d.offset){var e=d.offset;d.offset=function(){return e}}else d.offset=function(){return c.offset()};if(!a.isFunction(d.res)){var f=d.res;d.res=function(){return f}}c.data("offset.lazy",d.offset()),d.onLoad||(d.onLoad=a.noop),d.onError||(d.onError=a.noop),b.push([c,d])},h=function(a){for(var c=0;c<b.length;c++){var d=b[c];d&&d[0].get(0)==a.get(0)&&b.splice(c,1)}},i=function(a,b,c){var d,e=null,f=0;return function(){var g=new Date,h=b-(g-f);return c||(c=this),0>=h&&(clearTimeout(e),e=null,f=g,d=a.apply(c,arguments)),d}},j=function(){var b=a(window),c=b.scrollTop();return{top:c,bottom:c+b.height()}};a(window).on("scroll.__lazy",i(c,100)),a(window).on("scroll.__lazy",i(f,1e3)),a.fn.lazy=function(b){return"destroy"===b?this.each(function(){h(a(this))}):this.each(function(){g(a(this),b)}),this}}(jQuery);